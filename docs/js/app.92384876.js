(function(e){function t(t){for(var a,o,r=t[0],c=t[1],u=t[2],l=0,h=[];l<r.length;l++)o=r[l],i[o]&&h.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);d&&d(t);while(h.length)h.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},i={app:0},s=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/BirdSight/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var d=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"28a3":function(e,t,n){},"3ddc":function(e,t,n){},"4e4c":function(e,t,n){"use strict";var a=n("3ddc"),i=n.n(a);i.a},"503e":function(e,t,n){"use strict";var a=n("28a3"),i=n.n(a);i.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var a=n("a026"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("ul",{staticClass:"nav"},[n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[n("strong",[e._v("US Bird Observations")])])],1),n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/about"}},[e._v("About")])],1)]),n("router-view")],1)},s=[],o=(n("5c0b"),n("2877")),r={},c=Object(o["a"])(r,i,s,!1,null,null,null);c.options.__file="App.vue";var u=c.exports,d=n("8c4f"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container-fluid fullBackground"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-3 p-3"},[n("div",{staticClass:"card selectionArea"},[n("div",{staticClass:"card-body p-2 mapHeader",staticStyle:{height:"300px"}},[n("h3",[e._v("Region Search:")]),n("region-search",{attrs:{regionCode:this.urlRegion},on:{interface:e.regionHandler}})],1),n("div",{staticClass:"card-body p-2 mapHeader",staticStyle:{height:"300px"}},[n("h3",[e._v("Species Search:")]),n("species-search",{attrs:{region:e.region},on:{interface:e.speciesHandler}}),e.currentSpecies?n("div",{staticClass:"btn btn-outline-warning my-1",on:{click:function(t){e.notableClick()}}},[e._v("\n            All Notable\n          ")]):e._e()],1)])]),n("div",{staticClass:"col-9 p-3"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header mapHeader",staticStyle:{"text-align":"left"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("h3",[e._v("Region:")]),n("h2",[e._v(e._s(e.region.name))])]),n("div",{staticClass:"col-6"},[n("h3",[e._v("Observations:")]),n("h2",{domProps:{innerHTML:e._s(e.observationMessage)}})])])]),e.observations.length?n("div",{staticClass:" card-body p-0"},[n("map-view",{attrs:{region:e.region,observations:e.observations}})],1):e._e()])])])])},h=[],p=(n("ac6a"),n("96cf"),n("1da1")),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-form-input",{attrs:{type:"text",placeholder:"Enter a US State or Territory"},model:{value:e.term,callback:function(t){e.term=t},expression:"term"}}),e.suggestions.length?n("div",{staticClass:"card ddown"},e._l(e.suggestions,function(t){return n("div",[n("b-dropdown-item",{on:{click:function(n){e.suggestionClick(t)}}},[e._v("\n        "+e._s(t.name)+"\n      ")])],1)})):e._e()],1)},m=[],f=(n("386d"),n("aa97")),v=n("8a6f"),b={data:function(){return{suggestions:[],items:v,term:"",search:""}},props:{regionCode:{type:String,required:!1}},mounted:function(){this.setSearchIndex()},watch:{term:function(){this.getMatches()},regionCode:function(){this.regionCode&&(this.term=this.regionCode,this.getMatches(),1===this.suggestions.length&&this.suggestionClick(this.suggestions[0]))}},methods:{setSearchIndex:function(){this.search=new f["Search"]("code"),this.search.addIndex("code"),this.search.addIndex("name");var e=this.items;this.search.addDocuments(e)},getMatches:function(){this.suggestions=this.search.search(this.term)},suggestionClick:function(e){this.$emit("interface",e),this.suggestions=[],this.term=""}}},S=b,y=(n("503e"),Object(o["a"])(S,g,m,!1,null,null,null));y.options.__file="RegionSearch.vue";var C=y.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-form-input",{attrs:{type:"text",placeholder:"Enter a species common or scientific name"},model:{value:e.term,callback:function(t){e.term=t},expression:"term"}}),e.suggestions.length?n("div",{staticClass:"card",staticStyle:{"max-height":"250px",overflow:"auto"}},e._l(e.suggestions,function(t){return n("div",{staticClass:"ddown"},[n("b-dropdown-item",{on:{click:function(n){e.suggestionClick(t)}}},[e._v("\n        "+e._s(t.comName)+"\n      ")])],1)})):e._e()],1)},_=[],M=n("bc3a"),U=n.n(M),x=n("a1ca"),O={server:"https://ebird.org/ws2.0/",apiKey:x.ebirdKey};function R(e){return N.apply(this,arguments)}function N(){return N=Object(p["a"])(regeneratorRuntime.mark(function e(t){var n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="".concat(O.server,"data/obs/").concat(t,"/recent/notable"),a={locale:"en",fmt:"json",key:O.apiKey},e.next=4,U.a.get(n,{params:a});case 4:return i=e.sent,e.abrupt("return",i.data);case 6:case"end":return e.stop()}},e,this)})),N.apply(this,arguments)}function k(e){return A.apply(this,arguments)}function A(){return A=Object(p["a"])(regeneratorRuntime.mark(function e(t){var n,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="".concat(O.server,"data/obs/").concat(t,"/recent"),a={locale:"en",fmt:"json",key:O.apiKey},e.next=4,U.a.get(n,{params:a});case 4:return i=e.sent,e.abrupt("return",i.data);case 6:case"end":return e.stop()}},e,this)})),A.apply(this,arguments)}function I(e,t){return j.apply(this,arguments)}function j(){return j=Object(p["a"])(regeneratorRuntime.mark(function e(t,n){var a,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a="".concat(O.server,"data/obs/").concat(t,"/recent/").concat(n),i={locale:"en",fmt:"json",key:O.apiKey},e.next=4,U.a.get(a,{params:i});case 4:return s=e.sent,e.abrupt("return",s.data);case 6:case"end":return e.stop()}},e,this)})),j.apply(this,arguments)}var T={data:function(){return{suggestions:[],speciesList:[],items:[],term:"",search:""}},props:{region:{type:Object,required:!0}},mounted:function(){this.fetchSpeciesByRegion(),this.setSearchIndex()},watch:{term:function(){this.getMatches()},region:function(){this.fetchSpeciesByRegion()}},methods:{fetchSpeciesByRegion:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(this.region.code);case 3:t=e.sent,t.forEach(function(e){n.speciesList.push(e)}),this.setSearchIndex(),t=null,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log("nodeResponse ERROR",e.t0,this);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),setSearchIndex:function(){this.search=new f["Search"]("speciesCode"),this.search.addIndex("comName"),this.search.addIndex("sciName"),this.search.addIndex("speciesCode"),this.search.addDocuments(this.speciesList)},getMatches:function(){this.suggestions=this.search.search(this.term)},suggestionClick:function(e){this.$emit("interface",e),this.suggestions=[],this.term=""}}},E=T,H=(n("4e4c"),Object(o["a"])(E,w,_,!1,null,null,null));H.options.__file="SpeciesSearch.vue";var L=H.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"birdMap",attrs:{id:"mapid"}})},K=[],B=n("e11e"),$={name:"mapView",props:{region:{type:Object,required:!0},observations:{type:Array,required:!0}},data:function(){return{map:"",zoom:6}},mounted:function(){this.instantiateMap(),this.addObservations()},watch:{region:function(){this.rebuildMap()},observations:function(){this.rebuildMap()}},methods:{instantiateMap:function(){this.map=B["map"]("mapid").setView([this.region.latitude,this.region.longitude],this.zoom),B["tileLayer"]("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}",{attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',maxZoom:18,id:"mapbox.streets",accessToken:x.leafletKey}).addTo(this.map)},rebuildMap:function(){this.map.remove(),this.instantiateMap(),this.addObservations()},addObservations:function(){var e=this;this.observations.forEach(function(t){var n=B["circle"]([t.lat,t.lng],{color:"purple",fillColor:"purple",fillOpacity:.5,radius:2e3}).addTo(e.map);n.bindPopup("<h6><strong>Common Name: "+t.comName+"</strong></h6><h6>Scientific Name: <i>"+t.sciName+"</i></h6><h6>Location: "+t.locName+"</h6><h6>Number: "+t.howMany+"</h6><h6>Date/Time: "+t.obsDt+"</h6><span>Lat: "+t.lat+" Long: "+t.lng+"</span>")})}}},P=$,V=(n("e2df"),Object(o["a"])(P,D,K,!1,null,null,null));V.options.__file="MapView.vue";var W=V.exports,Y={name:"Home",components:{"region-search":C,"species-search":L,"map-view":W},data:function(){return{speciesInfo:"",urlRegion:"",observationMessage:"<p>All recent notable observations</p>",observations:[],speciesList:[],currentSpecies:"",region:{code:"US-OR",name:"Oregon",state:"OR",latitude:43.804133,longitude:-120.554201}}},methods:{regionHandler:function(e){this.region=e;var t=this.region.code;this.$router.push({path:"/region/".concat(t)})},speciesHandler:function(e){this.speciesInfo=e,this.currentSpecies=e.speciesCode;var t=e.speciesCode;this.$router.push({path:"/region/".concat(this.region.code,"/species/").concat(t)})},fetchRecentNotableSightings:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.observations=[],e.prev=1,e.next=4,R(this.region.code);case 4:t=e.sent,t.forEach(function(e){n.observations.push(e)}),t=null,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log("nodeResponse ERROR",e.t0,this);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(){return e.apply(this,arguments)}}(),fetchObservationBySpecies:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t){var n,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.observations=[],e.prev=1,e.next=4,I(this.region.code,t);case 4:n=e.sent,n.forEach(function(e){a.observations.push(e)}),n=null,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log("nodeResponse ERROR",e.t0,this);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),notableClick:function(){this.observationMessage="<p>All recent notable observations</p>",this.currentSpecies="",this.speciesInfo="",this.fetchRecentNotableSightings()}},watch:{currentSpecies:function(){this.currentSpecies?this.observationMessage="<strong><i>".concat(this.speciesInfo.sciName,"</i></strong>  (").concat(this.speciesInfo.comName,")"):this.observationMessage="<p>All recent notable observations</p>",this.fetchObservationBySpecies(this.currentSpecies)},region:function(){this.observationMessage="<p>All recent notable observations</p>",this.currentSpecies="",this.speciesInfo="",this.fetchRecentNotableSightings()}},mounted:function(){"region"in this.$route.params&&(this.urlRegion=this.$route.params.region),"species"in this.$route.params&&(this.currentSpecies=this.$route.params.speciesCode),this.currentSpecies?this.fetchObservationBySpecies(this.currentSpecies):this.fetchRecentNotableSightings()}},G=Y,J=(n("9be9"),Object(o["a"])(G,l,h,!1,null,"acf7ce50",null));J.options.__file="Home.vue";var q=J.exports,Z=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},z=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"about"},[n("h3",{staticClass:"aboutMessage"},[e._v("All data is fetched from the "),n("a",{attrs:{href:"https://documenter.getpostman.com/view/664302/ebird-api-20/2HTbHW#3833c40c-9733-dd2a-94e0-abcdd6938f0e"}},[e._v("eBird API 2.0")]),e._v("\n    provided by "),n("a",{attrs:{href:"https://ebird.org/"}},[e._v("eBird.org")]),e._v("\n    and the fantastic "),n("a",{attrs:{href:"http://www.birds.cornell.edu/"}},[e._v("Cornell Lab of Ornithology")])])])}],X=(n("aa4a"),{}),F=Object(o["a"])(X,Z,z,!1,null,"4986d916",null);F.options.__file="About.vue";var Q=F.exports;a["a"].use(d["a"]);var ee=new d["a"]({mode:"history",base:"/BirdSight/",routes:[{path:"/",name:"home",component:q},{path:"/region/:region",name:"region",component:q},{path:"/region/:region/species/:species",name:"species",component:q},{path:"/about",name:"about",component:Q}]}),te=n("9f7b"),ne=n("d051"),ae=n.n(ne);n("a507"),n("f9e3"),n("2dd8");a["a"].use(te["a"]),a["a"].use(ae.a),a["a"].config.productionTip=!1,new a["a"]({router:ee,render:function(e){return e(u)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("5e27"),i=n.n(a);i.a},"5e27":function(e,t,n){},"7cc5":function(e,t,n){},"8a6f":function(e){e.exports=[{code:"US-AL",name:"Alabama",state:"AL",latitude:32.318231,longitude:-86.902298},{code:"US-AK",name:"Alaska",state:"AK",latitude:63.588753,longitude:-154.493062},{code:"US-AZ",name:"Arizona",state:"AZ",latitude:34.048928,longitude:-111.093731},{code:"US-AR",name:"Arkansas",state:"AR",latitude:35.20105,longitude:-91.831833},{code:"US-CA",name:"California",state:"CA",latitude:36.778261,longitude:-119.417932},{code:"US-CO",name:"Colorado",state:"CO",latitude:39.550051,longitude:-105.782067},{code:"US-CT",name:"Connecticut",state:"CT",latitude:41.603221,longitude:-73.087749},{code:"US-DE",name:"Delaware",state:"DE",latitude:38.910832,longitude:-75.52767},{code:"US-FL",name:"Florida",state:"FL",latitude:27.664827,longitude:-81.515754},{code:"US-GA",name:"Georgia",state:"GA",latitude:32.157435,longitude:-82.907123},{code:"US-HI",name:"Hawaii",state:"HI",latitude:19.898682,longitude:-155.665857},{code:"US-ID",name:"Idaho",state:"ID",latitude:44.068202,longitude:-114.742041},{code:"US-IL",name:"Illinois",state:"IL",latitude:40.633125,longitude:-89.398528},{code:"US-IN",name:"Indiana",state:"IN",latitude:40.551217,longitude:-85.602364},{code:"US-IA",name:"Iowa",state:"IA",latitude:41.878003,longitude:-93.097702},{code:"US-KS",name:"Kansas",state:"KS",latitude:39.011902,longitude:-98.484246},{code:"US-KY",name:"Kentucky",state:"KY",latitude:37.839333,longitude:-84.270018},{code:"US-LA",name:"Louisiana",state:"LA",latitude:31.244823,longitude:-92.145024},{code:"US-ME",name:"Maine",state:"ME",latitude:45.253783,longitude:-69.445469},{code:"US-MD",name:"Maryland",state:"MD",latitude:39.045755,longitude:-76.641271},{code:"US-MA",name:"Massachusetts",state:"MA",latitude:42.407211,longitude:-71.382437},{code:"US-MI",name:"Michigan",state:"MI",latitude:44.314844,longitude:-85.602364},{code:"US-MN",name:"Minnesota",state:"MN",latitude:46.729553,longitude:-94.6859},{code:"US-MS",name:"Mississippi",state:"MS",latitude:32.354668,longitude:-89.398528},{code:"US-MO",name:"Missouri",state:"MO",latitude:37.964253,longitude:-91.831833},{code:"US-MT",name:"Montana",state:"MT",latitude:46.879682,longitude:-110.362566},{code:"US-NE",name:"Nebraska",state:"NE",latitude:41.492537,longitude:-99.901813},{code:"US-NV",name:"Nevada",state:"NV",latitude:38.80261,longitude:-116.419389},{code:"US-NH",name:"New Hampshire",state:"NH",latitude:43.193852,longitude:-71.572395},{code:"US-NJ",name:"New Jersey",state:"NJ",latitude:40.058324,longitude:-74.405661},{code:"US-NM",name:"New Mexico",state:"NM",latitude:34.97273,longitude:-105.032363},{code:"US-NY",name:"New York",state:"NY",latitude:43.299428,longitude:-74.217933},{code:"US-NC",name:"North Carolina",state:"NC",latitude:35.759573,longitude:-79.0193},{code:"US-OH",name:"Ohio",state:"OH",latitude:40.417287,longitude:-82.907123},{code:"US-OK",name:"Oklahoma",state:"OK",latitude:35.007752,longitude:-97.092877},{code:"US-OR",name:"Oregon",state:"OR",latitude:43.804133,longitude:-120.554201},{code:"US-PA",name:"Pennsylvania",state:"PA",latitude:41.203322,longitude:-77.194525},{code:"US-RI",name:"Rhode Island",state:"RI",latitude:41.580095,longitude:-71.477429},{code:"US-SC",name:"South Carolina",state:"SC",latitude:33.836081,longitude:-81.163725},{code:"US-SD",name:"South Dakota",state:"SD",latitude:43.969515,longitude:-99.901813},{code:"US-TN",name:"Tennessee",state:"TN",latitude:35.517491,longitude:-86.580447},{code:"US-TX",name:"Texas",state:"TX",latitude:31.968599,longitude:-99.901813},{code:"US-UT",name:"Utah",state:"UT",latitude:39.32098,longitude:-111.093731},{code:"US-VT",name:"Vermont",state:"VT",latitude:44.558803,longitude:-72.577841},{code:"US-VA",name:"Virginia",state:"VA",latitude:37.431573,longitude:-78.656894},{code:"US-WA",name:"Washington",state:"WA",latitude:47.751074,longitude:-120.740139},{code:"US-WV",name:"West Virginia",state:"WV",latitude:38.597626,longitude:-80.454903},{code:"US-WI",name:"Wisconsin",state:"WI",latitude:43.78444,longitude:-88.787868},{code:"US-WY",name:"Wyoming",state:"WY",latitude:43.075968,longitude:-107.290284},{code:"US-DC",name:"District of Columbia",state:"DC",latitude:38.905985,longitude:-77.033418},{code:"US-PR",name:"Puerto Rico",state:"PR",latitude:18.220833,longitude:-66.590149}]},"8e13":function(e,t,n){},"9be9":function(e,t,n){"use strict";var a=n("8e13"),i=n.n(a);i.a},a1ca:function(e){e.exports={ebirdKey:"5dqb3nmq7bge",leafletKey:"pk.eyJ1IjoidGltZXB1dCIsImEiOiJjaXprZGprcGMwM3VjMzNsYms0ZTBsYWg0In0.l4hApNQswBDhwmp2-UaWGA"}},aa4a:function(e,t,n){"use strict";var a=n("b17e"),i=n.n(a);i.a},b17e:function(e,t,n){},e2df:function(e,t,n){"use strict";var a=n("7cc5"),i=n.n(a);i.a}});
//# sourceMappingURL=app.92384876.js.map